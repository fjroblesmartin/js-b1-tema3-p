<!--
    //T3: Primeros pasos con JavaScript en una aplicación web / Primers passos amb JavaScript en una aplicació web
    //U2: Trabajo con el DOM / Treballant amb el DOM
    -- CASTELLANO
    -- EJERCICIO 3.2.3 ENUNCIADO: 
	Creación y eliminación de elementos del DOM:	
	Dado el siguiente documento HTML, se nos pide:
	- Crear una función, a la que llamaremos (createTitle) que reciba un texto y que, tras comprobar en el DOM que no existe un elemento de la clase "title" (si existe no hará nada), cree un elemento de tipo <div> 
	  al cual definiremos de la clase "title" y al que, antes de añadirlo al elemento que tiene id = myContent del DOM, añadiremos un elemento de tipo <H1> que contenga en su interior el texto recibido por parámetro.
	- Crear una función, a la que llamaremos (createParagraph) que reciba un texto y que, tras comprobar en el DOM que existe un elemento de la clase "title" (si no existe no hará nada) 
	  cree un elemento de tipo <p> al cual definiremos con la clase "paragraph" y lo añadiremos al elemento de la clase "title" definido anteriormente.
	- Implementar llamadas a las funciones anteriores de manera que creemos en el DOM un elemento de la clase "title" y le añadamos 3 elementos de la clase "paragraph" con textos distintos.
	- Finalmente, eliminar uno de los elementos de la clase "paragraph" creados anteriormente.	
	  
	Consejo: para comprobar si un elemento existe: si lo capturamos en una variable desde el DOM con el método querySelector y no existe, el valor de la variable será null. 

-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>T3U2_EX3</title>
		<style type="text/css">
			.title > h1{
				font-size: 30px;
				text-align: center;	
				background-color: black;
				border: 2px solid blue;
				color: yellow;
				font-weight: bold;
			}
			.paragraph {
				padding: 2px;
				text-align: center;				
				font-size: 14px;
			}
		</style>
    </head>
    <body>
        <div id="myContent" class="content"></div>
    </body>
	<script defer id="solutionJS">
        //Escribe aquí tu solución / escriviu aquí la vostra solució:
	
		//Creo la primera función
		function createTitle(text) {
			// Comprobar si ya existe un elemento con la clase "title"
			const existingTitle = document.querySelector('.title');

			// Si ya existe, salimos de la función (no hace nada)
			if (existingTitle) {
				console.log('El título ya existe, no se crea uno nuevo.');
				return;
			}

    	// Creo el nuevo elemento <div>
    	const newDiv = document.createElement('div');
    	// Le asigno la clase "title"
    	newDiv.classList.add('title');
    	// Creo el elemento <h1>
    	const newH1 = document.createElement('h1');
    	// Asignaro el texto recibido por parámetro
    	newH1.textContent = text;
    	// Añado el <h1> al <div>
    	newDiv.appendChild(newH1);
    	// Obtengo el elemento padre donde se añadirá (id = myContent)
    	const container = document.getElementById('myContent');
    	// Añado el nuevo <div> al contenedor del DOM
    	container.appendChild(newDiv);
}
	//Creo la segunda fucion
	function createParagraph(text) {
		const titleElement = document.querySelector('.title');
		if (!titleElement) {
			console.log('El elemento "title" no existe, no se puede crear el párrafo.');
			return;
		}
		const newP = document.createElement('p');
		newP.classList.add('paragraph');
		newP.textContent = text;
		titleElement.appendChild(newP);
	}

	// IMPLEMENTANDO LLAMADAS Y ELIMINACIÓN

	// Implementar llamadas para crear el "title" y 3 "paragraph"
	console.log('--- Iniciando implementación ---');
	createTitle('TÍTULO PRINCIPAL DE LA PÁGINA');

	// Añadimos los 3 párrafos distintos
	createParagraph('Primer párrafo de contenido, hola.');
	createParagraph('Segundo párrafo hola, hola.');
	createParagraph('Tercer párrafo hola, hola, caracola.');

	// Elimino uno de los elementos de la clase "paragraph" creados
	// Obtenemos la lista de todos los párrafos de la clase "paragraph"
	const paragraphs = document.querySelectorAll('.paragraph');
	// Comprobamos si existe al menos un párrafo para eliminar
	if (paragraphs.length > 0) {
		// Elegimos el último párrafo creado para eliminarlo (paragraphs[2] en este caso, o paragraphs[paragraphs.length - 1])
		const paragraphToRemove = paragraphs[paragraphs.length - 1]; 
		// Lo eliminamos
		paragraphToRemove.remove();
		
		console.log(`Hecho todo`);
	} else {
		console.log('No hay párrafos a eliminar.');
	}

	</script>
    <script defer id="test">
        /**
        * TEST
        * The purpose of this code is purely for TESTING PURPOSES, 
        * Do not modify this script
        */
        window.test = [document.querySelector("#myContent"), createParagraph, createTitle];
    </script>
</html>	
